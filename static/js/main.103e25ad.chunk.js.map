{"version":3,"sources":["pages/NotFound.tsx","store/hooks.ts","components/Loader.tsx","components/TitleMassage.tsx","store/features/Courses/coursesSlice.ts","UI/Title.tsx","UI/Grid.tsx","components/CourseCard.tsx","pages/HomePage/HomePage.tsx","store/features/Basket/basketSlice.ts","UI/Button.tsx","store/features/Products/productsSlice.ts","store/sagas/sagaActions.ts","components/Controls.tsx","pages/CoursePage/CoursePage.tsx","App.tsx","api/getCourse.ts","store/sagas/getCourseSaga.ts","api/getCourses.ts","store/sagas/getCoursesSaga.ts","api/getToken.ts","store/sagas/getTokenSaga.ts","store/sagas/watchSaga.ts","store/sagas/rootSaga.ts","store/features/Controls/controlsSlice.ts","store/index.ts","GlobalStyle.ts","index.tsx"],"names":["NotFound","useAppDispatch","useDispatch","useAppSelector","useSelector","rotate","keyframes","LoaderWrapper","styled","div","LoaderInner","Loader","console","log","Wrapper","status","css","TitleMessage","message","initialState","storage","token","statusLoading","error","coursesSlice","createSlice","name","reducers","setCourses","state","action","payload","setStatus","resetError","setError","setToken","resetStateExceptToken","resetState","actions","selectCourses","courses","selectCoursesStatusLoading","selectCoursesError","selectToken","Title","children","Grid","CardContainer","format","CardImage","img","CardContent","CardTitle","h2","CardPlayer","CardDescription","p","CardPrice","h3","CardRating","CourseCard","course","playerRef","useRef","description","previewImageLink","title","id","rating","link","meta","courseVideoPreview","useEffect","handlePause","player","current","currentTime","addEventListener","removeEventListener","navigate","useNavigate","pauseVideo","paused","ended","readyState","HAVE_CURRENT_DATA","controls","pause","onClick","replace","onMouseEnter","volume","play","playVideo","onMouseLeave","src","alt","autoPlay","width","height","hlsConfig","startPosition","HomePage","isLoading","map","totalSum","totalCount","showSuccess","statusPosting","basketSlice","addProductToBasket","count","product","productIndexInBasket","findIndex","bp","countOrdered","push","Math","ceil","reduce","accumulator","elem","Number","price","removeProductFromBasket","deleteProductInBasket","splice","sendOrderToServer","setShowSuccess","setStatusPosting","clearBasket","selectBasket","basket","selectTotalCount","Button","button","productsSlice","setProducts","selectProducts","products","sagaActions","fetchToken","type","fetchCourses","Controls","dispatch","to","length","CoursePage","useParams","find","c","String","Header","header","Main","main","App","localStorage","clear","router","createHashRouter","path","element","errorElement","getCourse","courseId","a","fetch","method","headers","Authorization","then","r","json","response","getCourseSaga","select","put","delay","res","getCourses","getCoursesSaga","call","getToken","getTokenSaga","watchSaga","takeLeading","takeEvery","rootSaga","popup","controlSlice","rootReducer","combineReducers","control","controlsSlice","sagaMiddleware","createSagaMiddleware","persistConfig","key","whitelist","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","thunk","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","persistor","persistStore","run","GlobalStyle","createGlobalStyle","ReactDOM","createRoot","document","getElementById","render","loading"],"mappings":"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","file":"static/js/main.103e25ad.chunk.js","sourcesContent":["import { FunctionComponent } from 'react';\n\nexport const NotFound: FunctionComponent = () => {\n  return (\n    <div>\n      This page doesn&nbsp;t exist.\n    </div>\n  );\n};\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from '.';\n\nexport const useAppDispatch: () => AppDispatch = useDispatch;\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { FunctionComponent } from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const LoaderInner = styled.div`\n  border-radius: 50%;\n  width: 2em;\n  height: 2em;\n  margin: 1em auto;\n  border: 0.3em solid #ddd;\n  border-left-color: #000;\n  animation: ${rotate} 1.2s infinite linear;\n`;\n\nexport const Loader: FunctionComponent = () => {\n  // eslint-disable-next-line no-console\n  console.log('Loader ....');\n\n  return (\n    <LoaderWrapper>\n      <LoaderInner />\n    </LoaderWrapper>\n  );\n};\n","import { FunctionComponent } from 'react';\nimport styled, { css } from 'styled-components';\n\nexport const Wrapper = styled.div<{ status: string }>`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n\n  ${({ status }) => (status === 'error') && css`\n    color: red;\n  `}\n`;\n\ninterface Props {\n  message: string;\n  status: 'error' | 'casual' | undefined;\n}\n\nexport const TitleMessage: FunctionComponent<Props> = ({\n  message,\n  status = 'casual',\n}) => {\n  return (\n    <Wrapper status={status}>\n      <h2>{message}</h2>\n    </Wrapper>\n  );\n};\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\nimport { RootState } from '../..';\nimport { Course } from '../../../type/Courses';\n\nexport interface CoursesState {\n  storage: Course[];\n  token: string | null;\n  statusLoading: 'idle' | 'loading' | 'failed';\n  error: string | null;\n}\n\nconst initialState: CoursesState = {\n  storage: [],\n  token: null,\n  statusLoading: 'idle',\n  error: null,\n};\n\nconst coursesSlice = createSlice({\n  name: 'courses',\n  initialState,\n  reducers: {\n    setCourses: (state: CoursesState, action: PayloadAction<Course[]>) => {\n      // eslint-disable-next-line no-console\n      console.log('setCourses');\n\n      state.storage = [...action.payload];\n    },\n    setStatus: (\n      state: CoursesState,\n      action: PayloadAction<'idle' | 'loading' | 'failed'>,\n    ) => {\n      state.statusLoading = action.payload;\n    },\n    resetError: (state: CoursesState) => {\n      state.error = initialState.error;\n    },\n    setError: (state: CoursesState, action: PayloadAction<string>) => {\n      state.error = action.payload;\n      state.statusLoading = 'failed';\n    },\n    setToken: (state: CoursesState, action: PayloadAction<string>) => {\n      // eslint-disable-next-line no-console\n      console.log('setToken');\n\n      state.token = action.payload;\n    },\n    resetStateExceptToken: (state: CoursesState) => {\n      return { ...state, ...initialState, token: state.token };\n    },\n    resetState: (state: CoursesState) => {\n      return { ...state, ...initialState };\n    },\n  },\n});\n\nexport default coursesSlice.reducer;\nexport const {\n  setCourses,\n  setStatus,\n  resetError,\n  setError,\n  setToken,\n  resetStateExceptToken,\n  resetState,\n} = coursesSlice.actions;\n\nexport const selectCourses = (state: RootState) => state.courses.storage;\nexport const selectCoursesStatusLoading\n= (state: RootState) => state.courses.statusLoading;\nexport const selectCoursesError = (state: RootState) => state.courses.error;\nexport const selectToken = (state: RootState) => state.courses.token;\n","import { FunctionComponent, ReactNode } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  text-align: center;\n  padding: 20px;\n`;\n\ninterface TitleProps {\n  children: ReactNode;\n}\n\nexport const Title: FunctionComponent<TitleProps> = ({ children }) => {\n  return (\n    <Wrapper>\n      <h2>{children}</h2>\n    </Wrapper>\n  );\n};\n","import { FunctionComponent, ReactNode } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(5, minmax(300px, 1fr));\n  gap: 20px;\n  justify-items: center;\n  align-items: center;\n  justify-content: center;\n`;\n\ninterface GridProps {\n  children: ReactNode;\n}\n\nexport const Grid: FunctionComponent<GridProps> = ({ children }) => {\n  return (\n    <Wrapper>\n      {children}\n    </Wrapper>\n  );\n};\n","import {\n  FunctionComponent,\n  useEffect,\n  useRef,\n} from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled, { css } from 'styled-components';\nimport ReactHlsPlayer from 'react-hls-player';\n\n// import StarIcon from '../assets/star-icon.svg';\n// import { Button } from '../UI/Button';\n// import { useAppDispatch } from '../store/hooks';\n// import { addProductToBasket } from '../store/features/Basket/basketSlice';\nimport { Course } from '../type/Courses';\n\nconst CardContainer = styled.div<{ format?: string }>`\n  /* display: inline-flex; */\n  /* flex-direction: column;\n  align-items: center;\n  justify-content: baseline; */\n  width: 280px;\n  height: 450px;\n  border-radius: 10px;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  margin: 10px;\n  box-sizing: border-box;\n  /* padding: 0 0 20px; */\n  /* border: 1px solid red; */\n\n  &:hover {\n    ${({ format }) => (format === 'card') && css`\n    cursor: pointer;\n  `}\n  }\n\n  ${({ format }) => (format === 'page') && css`\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    border-radius: none;\n    box-shadow: none;\n    overflow: visible;\n    margin: 0;\n    padding: 0;\n  `}\n`;\n\nconst CardImage = styled.img<{ format?: string }>`\n  width: 100%;\n  height: 120px;\n  object-fit: cover;\n  overflow: hidden;\n\n  ${({ format }) => (format === 'page') && css`\n    width: 300px;\n    height: 400px;\n    object-fit: cover;\n    overflow: visible;\n    margin: 0 auto;\n  `}\n`;\n\nconst CardContent = styled.div<{ format?: string }>`\n  /* display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center; */\n  /* padding: 20px; */\n\n  ${({ format }) => (format === 'page') && css`\n    padding: 50px;\n  `}\n`;\n\n// const CardCategory = styled.div<{ format?: string }>`\n//   font-size: 12px;\n//   padding: 0;\n\n//   ${({ format }) => (format === 'page') && css`\n//     font-size: 20px;\n//     padding: 10px;\n//   `}\n// `;\n\nconst CardTitle = styled.h2<{ format?: string }>`\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 7px;\n  max-width: 250px;\n  text-align: left;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: normal;\n  height: 48px;\n  padding: 0 20px;\n\n  ${({ format }) => (format === 'page') && css`\n    font-size: 50px;\n    margin-top: 20px;\n    margin-bottom: 40px;\n    max-width: none;\n    -webkit-line-clamp: inherit;\n    text-align: center;\n    overflow: visible;\n    text-overflow: none;\n    height: auto;\n  `}\n`;\n\nconst CardPlayer = styled.div<{ format?: string }>`\n  height: 160px;\n\n  ${({ format }) => (format === 'page') && css`\n    height: auto;\n  `}\n`;\n\nconst CardDescription = styled.p<{ format?: string }>`\n  font-size: 14px;\n  text-align: left;\n  height: 60px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-direction: normal;\n  -webkit-box-orient: vertical;\n  overflow-wrap: break-word;\n  padding: 5px 20px 0;\n\n  ${({ format }) => (format === 'page') && css`\n    font-size: 24px;\n    text-align: center;\n    max-height: min-content;\n    text-overflow: clip;\n    overflow: visible;\n    -webkit-line-clamp: inherit;\n  `}\n`;\n\nconst CardPrice = styled.h3<{ format?: string }>`\n  font-size: 24px;\n  font-weight: bold;\n  margin-top: 10px;\n\n  ${({ format }) => (format === 'page') && css`\n    font-size: 34px;\n    font-weight: bold;\n    margin-top: 20px;\n  `}\n`;\n\nconst CardRating = styled.div<{ format?: string }>`\n  margin-top: 5px;\n  text-align: left;\n  align-self: flex-start;\n  font-size: 14px;\n  padding: 5px 20px 0;\n\n  ${({ format }) => (format === 'page') && css`\n  `}\n`;\n\n// const CardRatingCount = styled.span<{ format?: string }>`\n//   font-size: 14px;\n//   margin-left: 5px;\n// `;\n\n// const CardButtonBuy = styled(Button)<{ format?: string }>`\n//   ${({ format }) => (format === 'page') && css`\n//     font-size: 30px;\n//     margin: 20px auto;\n//   `}\n// `;\n\ninterface CourseCardProps {\n  course: Course;\n  // eslint-disable-next-line react/require-default-props\n  format?: 'card' | 'page';\n}\n\nexport const CourseCard: FunctionComponent<CourseCardProps> = ({\n  course,\n  format = 'card',\n}) => {\n  const playerRef = useRef<HTMLVideoElement>(null);\n  const {\n    description,\n    previewImageLink,\n    title,\n    id,\n    rating,\n  } = course;\n  const link = course.meta?.courseVideoPreview?.link || '';\n\n  // useEffect(() => {\n  //   function handlePlay() {\n  //     // Do something when the video starts/resumes playing\n  //     const player = playerRef.current;\n\n  //     if (player) {\n  //       // eslint-disable-next-line no-console\n  //       console.log('handlePlay', player.currentTime);\n  //     }\n  //   }\n\n  //   const player = playerRef.current;\n\n  //   if (player) {\n  //     player.addEventListener('play', handlePlay);\n  //   }\n\n  //   return () => {\n  //     if (player) {\n  //       player.removeEventListener('play', handlePlay);\n  //     }\n  //   };\n  // }, [playerRef]);\n\n  useEffect(() => {\n    function handlePause() {\n      const player = playerRef.current;\n      // Do some stuff when the video pause\n\n      if (player) {\n        // eslint-disable-next-line no-console\n        console.log('handlePause', player.currentTime);\n      }\n    }\n\n    const player = playerRef.current;\n\n    if (player) {\n      player.addEventListener('pause', handlePause);\n    }\n\n    return () => {\n      if (player) {\n        playerRef.current.removeEventListener('pause', handlePause);\n      }\n    };\n  }, [playerRef]);\n\n  // const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  // const buyHandler = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n  //   e.stopPropagation();\n\n  //   dispatch(addProductToBasket({\n  //     product,\n  //     count: 1,\n  //   }));\n  // };\n\n  function playVideo() {\n    const player = playerRef.current;\n\n    if (format === 'card'\n      && player && link) {\n      // eslint-disable-next-line no-console\n      console.log('playVideo');\n\n      player.controls = !player.controls;\n      player.volume = 0;\n      player.play();\n    }\n  }\n\n  function pauseVideo() {\n    const player = playerRef.current;\n\n    if (format === 'card'\n      && player && (\n      player.currentTime > 0\n      && !player.paused\n      && !player.ended\n      && player.readyState > player.HAVE_CURRENT_DATA)) {\n      // eslint-disable-next-line no-console\n      console.log('pauseVideo', title);\n\n      player.controls = !player.controls;\n      player.pause();\n    }\n  }\n\n  const cardToggle = () => {\n    if (format === 'card') {\n      pauseVideo();\n      navigate(`course/${id}`, { replace: true });\n    }\n  };\n\n  return (\n    <CardContainer\n      onClick={cardToggle}\n      format={format}\n      onMouseEnter={() => playVideo()}\n      onMouseLeave={() => pauseVideo()}\n    >\n      <CardImage\n        src={`${previewImageLink}/cover.webp`}\n        alt={description}\n        format={format}\n      />\n      <CardContent format={format}>\n        <CardTitle format={format}>{title}</CardTitle>\n\n        <CardPlayer format={format}>\n          <ReactHlsPlayer\n            playerRef={playerRef}\n            src={link}\n            autoPlay={false}\n            controls\n            width=\"100%\"\n            height=\"100%\"\n            hlsConfig={{\n              startPosition: -1,\n            }}\n          />\n        </CardPlayer>\n\n        <CardDescription format={format}>{description}</CardDescription>\n        <CardPrice format={format}>\n          {/* {price} */}\n        </CardPrice>\n\n        <CardRating format={format}>\n          Rating:&nbsp;\n          {rating}\n        </CardRating>\n\n      </CardContent>\n    </CardContainer>\n  );\n};\n","import { FunctionComponent } from 'react';\nimport styled from 'styled-components';\n\nimport {\n  useAppSelector,\n} from '../../store/hooks';\n\nimport { Loader } from '../../components/Loader';\nimport { TitleMessage } from '../../components/TitleMassage';\nimport {\n  selectCourses,\n  selectCoursesError,\n  selectCoursesStatusLoading,\n} from '../../store/features/Courses/coursesSlice';\nimport { Title } from '../../UI/Title';\nimport { Grid } from '../../UI/Grid';\nimport { CourseCard } from '../../components/CourseCard';\n\nconst Wrapper = styled.div`\n`;\n\nexport const HomePage: FunctionComponent = () => {\n  const isLoading = useAppSelector(selectCoursesStatusLoading) === 'loading';\n  const error = useAppSelector(selectCoursesError);\n\n  const courses = useAppSelector(selectCourses);\n\n  if (error) {\n    return <TitleMessage message={error} status=\"error\" />;\n  }\n\n  return (\n    <Wrapper>\n      <Title>Courses:</Title>\n\n      {isLoading && <Loader />}\n\n      <Grid>\n        {courses.map(course => (\n          <CourseCard key={course.id} course={course} />\n        ))}\n      </Grid>\n    </Wrapper>\n  );\n};\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\nimport { RootState } from '../..';\nimport { Product } from '../../../type/Product';\n\nexport type BasketPosition = {\n  product: Product;\n  countOrdered: number;\n};\n\nexport interface BasketState {\n  storage: BasketPosition[];\n  totalSum: number;\n  totalCount: number;\n  showSuccess: boolean;\n  statusPosting: 'idle' | 'posting' | 'failed';\n  error: string | null;\n}\n\nconst initialState: BasketState = {\n  storage: [],\n  totalSum: 0,\n  totalCount: 0,\n  showSuccess: false,\n  statusPosting: 'idle',\n  error: null,\n};\n\nconst basketSlice = createSlice({\n  name: 'basket',\n  initialState,\n  reducers: {\n    addProductToBasket: (\n      state: BasketState,\n      action: PayloadAction<{ product: Product; count: number }>,\n    ) => {\n      const { count, product } = action.payload;\n\n      const productIndexInBasket = state.storage\n        .findIndex(bp => bp.product.id === product.id);\n\n      if (productIndexInBasket >= 0) {\n        state.storage[productIndexInBasket].countOrdered += count;\n      } else {\n        state.storage.push({\n          product,\n          countOrdered: count,\n        });\n      }\n\n      // update total sum after all add operation\n      state.totalSum = Math.ceil(\n        state.storage.reduce((accumulator, elem) => accumulator\n        + Number(elem.product.price) * elem.countOrdered, 0) * 100,\n      ) / 100;\n\n      state.totalCount = state.storage.reduce((accumulator, elem) => accumulator\n        + elem.countOrdered, 0);\n    },\n    removeProductFromBasket: (\n      state: BasketState,\n      action: PayloadAction<{ product: Product; count: number }>,\n    ) => {\n      const { count, product } = action.payload;\n\n      const productIndexInBasket = state.storage\n        .findIndex(bp => bp.product.id === product.id);\n\n      if (productIndexInBasket >= 0\n        && state.storage[productIndexInBasket].countOrdered >= count) {\n        state.storage[productIndexInBasket].countOrdered -= count;\n\n        // update total sum after each remove operation\n        state.totalSum = Math.ceil(\n          state.storage.reduce((accumulator, elem) => accumulator\n          + Number(elem.product.price) * elem.countOrdered, 0) * 100,\n        ) / 100;\n\n        state.totalCount = state.storage.reduce(\n          (accumulator, elem) => accumulator + elem.countOrdered,\n          0,\n        );\n      }\n    },\n    deleteProductInBasket: (\n      state: BasketState,\n      action: PayloadAction<{ product: Product }>,\n    ) => {\n      const { product } = action.payload;\n\n      const productIndexInBasket = state.storage\n        .findIndex(bp => bp.product.id === product.id);\n\n      if (productIndexInBasket >= 0) {\n        state.storage.splice(productIndexInBasket, 1);\n\n        // update total sum after each delete operation\n        state.totalSum = Math.ceil(\n          state.storage.reduce((accumulator, elem) => accumulator\n          + Number(elem.product.price) * elem.countOrdered, 0) * 100,\n        ) / 100;\n\n        state.totalCount = state.storage.reduce(\n          (accumulator, elem) => accumulator + elem.countOrdered,\n          0,\n        );\n      }\n    },\n    sendOrderToServer: () => {\n      // add empty actions for saga watchers\n\n      // eslint-disable-next-line no-console\n      console.log('sendOrderToServer');\n    },\n    setShowSuccess: (state, action: PayloadAction<boolean>) => {\n      state.showSuccess = action.payload;\n    },\n    setStatusPosting: (\n      state: BasketState,\n      action: PayloadAction<'idle' | 'posting' | 'failed'>,\n    ) => {\n      state.statusPosting = action.payload;\n    },\n    setError: (state: BasketState, action: PayloadAction<string>) => {\n      state.error = action.payload;\n      state.statusPosting = 'failed';\n    },\n    clearBasket: () => {\n      return initialState;\n    },\n  },\n});\n\nexport default basketSlice.reducer;\nexport const {\n  addProductToBasket,\n  removeProductFromBasket,\n  deleteProductInBasket,\n  sendOrderToServer,\n  setShowSuccess,\n  setStatusPosting,\n  setError,\n  clearBasket,\n} = basketSlice.actions;\n\nexport const selectBasket = (state: RootState) => state.basket.storage;\nexport const selectTotalSum = (state: RootState) => state.basket.totalSum;\nexport const selectTotalCount = (state: RootState) => state.basket.totalCount;\nexport const selectShowSusses = (state: RootState) => state.basket.showSuccess;\nexport const selectStatusPosting\n= (state: RootState) => state.basket.statusPosting;\nexport const selectBasketError\n= (state: RootState) => state.basket.error;\n","import styled from 'styled-components';\n\nexport const Button = styled.button`\n  padding: 0;\n  margin: 0;\n  border: none;\n  background-color: transparent;\n  outline: none;\n  justify-content: center;\n  cursor: pointer;\n  height: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: 'Raleway', sans-serif;\n\n  &:hover{\n    text-decoration: underline;\n  }\n`;\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\nimport { RootState } from '../..';\nimport { Product } from '../../../type/Product';\n\nexport interface ProductsState {\n  storage: Product[];\n  statusLoading: 'idle' | 'loading' | 'failed';\n  error: string | null;\n}\n\nconst initialState: ProductsState = {\n  storage: [],\n  statusLoading: 'idle',\n  error: null,\n};\n\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    // loadProducts: () => {\n    // we can create empty actions for saga watchers\n    // but I use external sagasActions file\n    // },\n    setProducts: (state: ProductsState, action: PayloadAction<Product[]>) => {\n      state.storage = action.payload;\n    },\n    setStatus: (\n      state: ProductsState,\n      action: PayloadAction<'idle' | 'loading' | 'failed'>,\n    ) => {\n      state.statusLoading = action.payload;\n    },\n    setError: (state: ProductsState, action: PayloadAction<string>) => {\n      state.error = action.payload;\n      state.statusLoading = 'failed';\n    },\n    resetState: (state: ProductsState) => {\n      return { ...state, ...initialState };\n    },\n  },\n});\n\nexport default productsSlice.reducer;\nexport const {\n  setProducts,\n  setStatus,\n  setError,\n  resetState,\n} = productsSlice.actions;\n\nexport const selectProducts = (state: RootState) => state.products.storage;\nexport const selectProductsStatusLoading\n= (state: RootState) => state.products.statusLoading;\nexport const selectProductsError = (state: RootState) => state.products.error;\n","export const sagaActions = {\n  FETCH_PRODUCTS_DATA: 'saga/FETCH_PRODUCTS_DATA',\n  FETCH_ORDER_TO_SERVER: 'saga/FETCH_ORDER_TO_SERVER',\n  FETCH_TOKEN: 'saga/FETCH_TOKEN',\n  FETCH_COURSES: 'saga/FETCH_COURSES',\n  FETCH_COURSE: 'saga/FETCH_COURSE',\n};\n\nconst sagaActionsCreator = {\n  loadProducts: () => ({ type: sagaActions.FETCH_PRODUCTS_DATA }),\n  sendOrder: () => ({ type: sagaActions.FETCH_ORDER_TO_SERVER }),\n  fetchToken: () => ({ type: sagaActions.FETCH_TOKEN }),\n  fetchCourses: () => ({ type: sagaActions.FETCH_COURSES }),\n  fetchCourse: (courseId: string) => ({\n    type: sagaActions.FETCH_COURSE,\n    payload: courseId,\n  }),\n};\n\nexport const {\n  loadProducts,\n  sendOrder,\n  fetchToken,\n  fetchCourses,\n  fetchCourse,\n} = sagaActionsCreator;\n","import {\n  FunctionComponent,\n} from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport {\n  IoChevronBack,\n} from 'react-icons/io5';\nimport {\n  clearBasket,\n  selectBasket,\n  selectTotalCount,\n} from '../store/features/Basket/basketSlice';\nimport { Button } from '../UI/Button';\nimport {\n  useAppDispatch,\n  useAppSelector,\n} from '../store/hooks';\nimport {\n  selectProducts,\n} from '../store/features/Products/productsSlice';\nimport { fetchCourses } from '../store/sagas/sagaActions';\n\nconst Wrapper = styled.div`\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n`;\n\nexport const Controls: FunctionComponent = () => {\n  const dispatch = useAppDispatch();\n  const basket = useAppSelector(selectBasket);\n  const products = useAppSelector(selectProducts);\n  const count = useAppSelector(selectTotalCount);\n\n  return (\n    <Wrapper>\n      <Link to=\"/\">\n        <IoChevronBack />\n      </Link>\n\n      {!products.length && (\n        <Button\n          onClick={() => dispatch(fetchCourses())}\n        >\n          reload courses\n        </Button>\n      )}\n\n      {!!basket.length && (\n        <>\n          <Button\n            onClick={() => dispatch(clearBasket())}\n          >\n            Clear basket\n          </Button>\n\n          Total:\n          {count}\n        </>\n      )}\n\n      {/* <Link\n        to=\"basket\"\n      >\n        {basket.length\n          ? <IoCart size=\"2rem\" color=\"black\" />\n          : <IoCartOutline size=\"2rem\" color=\"grey\" />}\n      </Link> */}\n\n    </Wrapper>\n  );\n};\n","import { FunctionComponent } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {\n  useAppSelector,\n} from '../../store/hooks';\nimport { selectCourses } from '../../store/features/Courses/coursesSlice';\nimport { CourseCard } from '../../components/CourseCard';\n\nconst Wrapper = styled.div`\n  margin: 0 auto;\n  grid-template-columns: repeat(4, minmax(400px, 1fr));\n  gap: 20px;\n  margin: 0 auto;\n  padding: 20px;\n`;\n\nexport const CoursePage: FunctionComponent = () => {\n  const { id } = useParams();\n  const courses = useAppSelector(selectCourses);\n  const course = courses.find(c => String(c.id) === id);\n\n  return (\n    <Wrapper>\n      {course && <CourseCard course={course} format=\"page\" />}\n    </Wrapper>\n  );\n};\n","/* eslint-disable max-len */\nimport { useEffect } from 'react';\nimport { createHashRouter, Outlet } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { NotFound } from './pages/NotFound';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { Controls } from './components/Controls';\nimport { selectCourses, selectToken } from './store/features/Courses/coursesSlice';\nimport {\n  useAppDispatch,\n  useAppSelector,\n} from './store/hooks';\nimport { fetchCourses, fetchToken } from './store/sagas/sagaActions';\nimport { CoursePage } from './pages/CoursePage';\n\nconst Wrapper = styled.div`\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100vh;\n  `;\n\nconst Header = styled.header`\n  max-width: 1270px;\n  margin: 0 auto;\n  text-align: center;\n  margin-bottom: 1rem;\n  padding-top: 1rem;\n`;\n\nconst Main = styled.main`\n  max-width: 1270px;\n  margin: 0 auto;\n`;\n\nlocalStorage.clear();\n\nfunction App() {\n  const token = useAppSelector(selectToken);\n  const courses = useAppSelector(selectCourses);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(fetchToken());\n  }, []);\n\n  useEffect(() => {\n    if (token && !courses.length) {\n      dispatch(fetchCourses());\n    }\n  }, [token]);\n\n  return (\n    <Wrapper>\n      <Header>\n        <h1>Test</h1>\n        <Controls />\n      </Header>\n\n      <Main>\n        <Outlet />\n      </Main>\n    </Wrapper>\n  );\n}\n\nexport const router = createHashRouter([\n  {\n    path: '/',\n    element: <App />,\n    errorElement: <NotFound />,\n    id: 'root',\n    children: [\n      {\n        path: '/',\n        element: <HomePage />,\n        id: 'homePage',\n        errorElement: <>Error on HomePage</>,\n      },\n      {\n        path: '/course/:id',\n        element: <CoursePage />,\n        errorElement: <>Error on CoursePage</>,\n      },\n    ],\n  },\n]);\n","import { Course } from '../type/Courses';\n\nexport const getCourse = async (token: string, courseId: string) => {\n  const response: { courses: Course[] } = await fetch(\n    `https://api.wisey.app/api/v1/core/preview-courses/${courseId}`, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Access-Control-Allow-Headers':\n          'X-Requested-With, Content-Type, Authorization',\n        'Access-Control-Allow-Origin': 'https://ernestofernandezua.github.io',\n      },\n    },\n  ).then(r => r.json());\n\n  return response;\n};\n","/* eslint-disable max-len */\n/* eslint-disable import/no-cycle */\nimport { AxiosError } from 'axios';\nimport {\n  delay,\n  put, select,\n} from 'redux-saga/effects';\nimport { getCourse } from '../../api/getCourse';\nimport { Course } from '../../type/Courses';\n\nimport {\n  // resetStateExceptToken,\n  selectToken,\n  setCourses,\n  setError,\n  setStatus,\n} from '../features/Courses/coursesSlice';\n\ntype Params = { type: string; payload: string };\n\nexport function* getCourseSaga({ payload }: Params) {\n  // eslint-disable-next-line no-console\n  console.log('getCourseSaga start');\n  const token: string = yield select(selectToken);\n\n  if (!token) {\n    // eslint-disable-next-line no-console\n    yield console.log('getCourseSaga: token === null');\n  }\n\n  // yield put(resetStateExceptToken());\n  yield put(setStatus('loading'));\n\n  try {\n    yield delay(3000);\n\n    const res: { courses: Course[] } = yield getCourse(token, payload);\n\n    // eslint-disable-next-line no-console\n    yield console.log('response', res.courses);\n\n    yield put(setCourses(res.courses));\n  } catch (error: unknown) {\n    yield put(setError((error as AxiosError).message));\n  } finally {\n    yield put(setStatus('idle'));\n  }\n}\n","import { Course } from '../type/Courses';\n\nexport const getCourses = async (token: string) => {\n  const response: { courses: Course[] } = await fetch(\n    'https://api.wisey.app/api/v1/core/preview-courses/', {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Access-Control-Allow-Headers':\n          'X-Requested-With, Content-Type, Authorization',\n      },\n    },\n  ).then(r => r.json());\n\n  return response;\n};\n","/* eslint-disable max-len */\n/* eslint-disable import/no-cycle */\nimport { AxiosError } from 'axios';\nimport {\n  call,\n  delay,\n  put, select,\n} from 'redux-saga/effects';\nimport { getCourses } from '../../api/getCourses';\n\nimport {\n  resetStateExceptToken,\n  selectToken,\n  setCourses,\n  setError,\n  setStatus,\n} from '../features/Courses/coursesSlice';\n\nexport function* getCoursesSaga() {\n  // eslint-disable-next-line no-console\n  console.log('getCoursesSaga start');\n  const token: string = yield select(selectToken);\n\n  if (!token) {\n    // eslint-disable-next-line no-console\n    yield console.log('getCoursesSaga: token === null');\n  }\n\n  yield put(resetStateExceptToken());\n  yield put(setStatus('loading'));\n\n  try {\n    yield delay(3000);\n\n    const { courses } = yield call(getCourses, token);\n\n    // eslint-disable-next-line no-console\n    yield console.log('courses', courses);\n\n    yield put(setCourses(courses));\n  } catch (error: unknown) {\n    yield put(setError((error as AxiosError).message));\n  } finally {\n    yield put(setStatus('idle'));\n  }\n}\n","export const getToken = async () => {\n  const response: { token: string } = await fetch(\n    'https://api.wisey.app/api/v1/auth/anonymous?platform=subscriptions', {\n      method: 'GET',\n      headers: {\n        'Access-Control-Allow-Headers':\n          'X-Requested-With, Content-Type, Authorization',\n      },\n    },\n  ).then(r => r.json());\n\n  return response;\n};\n","/* eslint-disable max-len */\n/* eslint-disable import/no-cycle */\nimport { AxiosError } from 'axios';\nimport {\n  call,\n  // delay,\n  put,\n} from 'redux-saga/effects';\nimport { getToken } from '../../api/getToken';\nimport {\n  resetError,\n  setError,\n  setStatus,\n  setToken,\n} from '../features/Courses/coursesSlice';\n\nexport function* getTokenSaga() {\n  // eslint-disable-next-line no-console\n  console.log('getTokenSaga start');\n\n  yield put(resetError());\n  yield put(setStatus('loading'));\n\n  try {\n    // yield delay(3000);\n    const { token } = yield call(getToken);\n\n    // eslint-disable-next-line no-console\n    console.log('getTokenSaga response', token);\n\n    yield put(setToken(token));\n  } catch (error: unknown) {\n    yield put(setError((error as AxiosError).message));\n  } finally {\n    yield put(setStatus('idle'));\n  }\n}\n","/* eslint-disable import/no-cycle */\nimport {\n  takeLeading,\n  takeEvery,\n  select,\n} from 'redux-saga/effects';\nimport { Course } from '../../type/Courses';\nimport { selectCourses, selectToken } from '../features/Courses/coursesSlice';\nimport { getCourseSaga } from './getCourseSaga';\nimport { getCoursesSaga } from './getCoursesSaga';\nimport { getTokenSaga } from './getTokenSaga';\nimport { sagaActions } from './sagaActions';\n\nexport function* watchSaga() {\n  // eslint-disable-next-line no-console\n  console.log('watchSaga');\n  const token: string = yield select(selectToken);\n  const courses: Course[] = yield select(selectCourses);\n\n  // eslint-disable-next-line no-console\n  console.log('watchSaga', token, courses);\n\n  if (!token) {\n    yield takeLeading(sagaActions.FETCH_TOKEN, getTokenSaga);\n  }\n\n  if (!courses.length) {\n    yield takeEvery(sagaActions.FETCH_COURSES, getCoursesSaga);\n  }\n\n  yield takeEvery(sagaActions.FETCH_COURSE, getCourseSaga);\n}\n","/* eslint-disable import/no-cycle */\nimport { watchSaga } from './watchSaga';\n\nexport default function* rootSaga() {\n  // eslint-disable-next-line no-console\n  console.log('root saga');\n\n  yield watchSaga();\n}\n","/* eslint-disable no-case-declarations */\n/* eslint-disable no-param-reassign */\nimport {\n  createSlice,\n} from '@reduxjs/toolkit';\n// eslint-disable-next-line import/no-cycle\n\nexport interface ControlState {\n  // I use this state to control global UI\n  popup: {\n    // like this\n    // showPopup1: boolean;\n    // showPopup2: boolean;\n  },\n}\n\nconst initialState: ControlState = {\n  popup: {\n  },\n};\n\nconst controlSlice = createSlice({\n  name: 'controls',\n  initialState,\n  reducers: {\n    resetState: () => {\n      return initialState;\n    },\n  },\n});\n\nexport default controlSlice.reducer;\nexport const {\n  resetState,\n} = controlSlice.actions;\n","/* eslint-disable import/no-cycle */\nimport {\n  configureStore,\n  ThunkAction,\n  Action,\n  combineReducers,\n} from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport createSagaMiddleware from 'redux-saga';\nimport storage from 'redux-persist/lib/storage';\nimport rootSaga from './sagas/rootSaga';\nimport controlsSlice from './features/Controls/controlsSlice';\nimport productsSlice from './features/Products/productsSlice';\nimport basketSlice from './features/Basket/basketSlice';\nimport coursesSlice from './features/Courses/coursesSlice';\n\nconst rootReducer = combineReducers({\n  control: controlsSlice,\n  products: productsSlice,\n  basket: basketSlice,\n  courses: coursesSlice,\n});\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: [\n    'basket',\n    'courses',\n    // 'products', // don't save products state in local storage\n  ],\n  // blacklist: ['any_part_of_store'],\n};\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    thunk: false,\n    serializableCheck: {\n      ignoredActions: [\n        FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER,\n        // 'posts',\n      ],\n    },\n  }).concat(sagaMiddleware),\n});\n\nexport const persistor = persistStore(store);\n\nsagaMiddleware.run(rootSaga);\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n\n/* eslint-disable @typescript-eslint/indent */\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  * {\n    font-family: 'Raleway', sans-serif;\n    user-select: none;\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n`;\n","import ReactDOM from 'react-dom/client';\n\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { RouterProvider } from 'react-router-dom';\nimport { router } from './App';\nimport { store, persistor } from './store';\nimport { GlobalStyle } from './GlobalStyle';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement,\n);\n\nroot.render(\n  <>\n    <GlobalStyle />\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <RouterProvider router={router} />\n      </PersistGate>\n    </Provider>\n  </>,\n);\n"],"sourceRoot":""}